<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>FreeIPA Installation and configuration | Vignesh Ragupathy</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="FreeIPA Installation and configuration" />
<meta name="author" content="Vignesh Ragupathy" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I worked on a freelance project a year ago which gives me experience in Free IPA server. Here I am sharing some portion of the setup used.It would be useful for beginners trying to setup Free IPA server." />
<meta property="og:description" content="I worked on a freelance project a year ago which gives me experience in Free IPA server. Here I am sharing some portion of the setup used.It would be useful for beginners trying to setup Free IPA server." />
<link rel="canonical" href="http://0.0.0.0:4000/freeipa_installation_configuration/" />
<meta property="og:url" content="http://0.0.0.0:4000/freeipa_installation_configuration/" />
<meta property="og:site_name" content="Vignesh Ragupathy" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-10-07T11:58:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="FreeIPA Installation and configuration" />
<script type="application/ld+json">
{"author":{"@type":"Person","name":"Vignesh Ragupathy"},"@type":"BlogPosting","description":"I worked on a freelance project a year ago which gives me experience in Free IPA server. Here I am sharing some portion of the setup used.It would be useful for beginners trying to setup Free IPA server.","headline":"FreeIPA Installation and configuration","url":"http://0.0.0.0:4000/freeipa_installation_configuration/","datePublished":"2017-10-07T11:58:00+00:00","dateModified":"2017-10-07T11:58:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://0.0.0.0:4000/freeipa_installation_configuration/"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <!-- CSS -->
  <link rel="stylesheet" href="/assets/main.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Libre+Baskerville:400,400i,700">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
  <link href="/css/github.css" rel="stylesheet">


  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="/content/images/favicon/favicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/content/images/favicon/favicon.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/content/images/favicon/touch-icon-iphone.png">

  <!-- RSS -->
  <link type="application/atom+xml" rel="alternate" href="http://0.0.0.0:4000/feed.xml" title="Vignesh Ragupathy" />

  <!-- Google Analytics-->
  
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YL89JLMQRY"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-YL89JLMQRY');
</script>
  
  
  





  

  <!-- Twitter cards -->
<meta name="twitter:site"    content="@vikkiintweet">
<meta name="twitter:creator" content="@Vignesh Ragupathy">
<meta name="twitter:title"   content="FreeIPA Installation and configuration">


<meta name="twitter:description" content="Vignesh Ragupathy's blog">



<meta name="twitter:card"  content="summary">
<meta name="twitter:image" content="">

<!-- end of Twitter cards -->
</head>


  <body>

    <!--
<nav class="nav">
  <div class="nav-container">
    <a href="/">
      <h2 class="nav-title">Vignesh Ragupathy</h2>
    </a>
    <ul>
      <li><a href="/tools">Tools developed</a></li>
      <li><a href="/videos">Videos</a></li>
      <li><a href="/about-me">About me</a></li>
    </ul>
  </div>
</nav>
-->

<div id="navbar">
  <nav class="nav">
  <div class="nav-container">
  <a href="/">
    <h2 class="nav-title ">Vignesh Ragupathy</h2>
  </a>
  <input class="menu-btn" type="checkbox" id="menu-btn" />
  <label class="menu-icon" for="menu-btn"><span class="navicon"></span></label>
  <ul class="menu">
    <li><a href="/about-me">About</a></li>
    <li><a href="/search">Search</a></li>
  </ul>
</div>
</div>
</nav>

  <script>
    var prevScrollpos = window.pageYOffset;
    window.onscroll = function() {
    var currentScrollPos = window.pageYOffset;
      if (prevScrollpos > currentScrollPos) {
        document.getElementById("navbar").style.top = "0";
      } else {
        document.getElementById("navbar").style.top = "-100px";
      }
      prevScrollpos = currentScrollPos;
    }
    </script>

    <main>
      <div class="post">
  <div class="post-info">
    <span>Written by</span>
    
        Vignesh Ragupathy
    

    
          <br>
      <span>on&nbsp;</span><time datetime="2017-10-07 11:58:00 +0000">October 07, 2017</time>
    
  </div>
  <div style="text-align: center;">
    <span>[
      
        
        <!--<a href="/tag/linux"><code class="highligher-rouge"><nobr>linux</nobr></code>&nbsp;</a>-->
        <a href="/tag/linux"><mark style="border-radius: .25em;   padding:.2em .6em .3em;font-size: 75%;"><nobr>linux</nobr></mark>&nbsp;</a>
      
        
        <!--<a href="/tag/opensource"><code class="highligher-rouge"><nobr>opensource</nobr></code>&nbsp;</a>-->
        <a href="/tag/opensource"><mark style="border-radius: .25em;   padding:.2em .6em .3em;font-size: 75%;"><nobr>opensource</nobr></mark>&nbsp;</a>
      
    ]</span> 
  </div>
  
  <h1 class="post-title">FreeIPA Installation and configuration</h1>
  <div class="post-line"></div>


  <p>I worked on a freelance project a year ago which gives me experience in Free IPA server. Here I am sharing some portion of the setup used.It would be useful for beginners trying to setup Free IPA server.</p>

<p>I have 2 sections here. One is about FreeIPA on the normal server and the other is FreeIPA in Docker container.</p>

<p>If you have any questions &amp; comments, feel free to add in the Disqus comment section below</p>

<p>FreeIPA stands for Free Identity, Policy, Audit. It is an open source alternative to AD that combines LDAP, Kerberos, CA services and management tools, and ships with its own schemas. It is a solution for managing users, groups, hosts, services, DNS, NTP etc.</p>

<h3 id="hostname-used">Hostname used:</h3>

<p>IPA server name: <code class="language-html highlighter-rouge">freeipa.vikki.in</code><br />
IPA client name: <code class="language-html highlighter-rouge">client01.vikki.in</code> (should be under the same domain e.g.: xxx.vikki.in)<br />
Docker host machine: <code class="language-html highlighter-rouge">fedora25.vikki.in</code></p>

<h5 id="freeipa-server-installation-and-configuration">FreeIPA server Installation and Configuration</h5>

<p><em>Step 1: Set fully qualified hostname</em></p>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">#</span>vim /etc/hostname
<span class="go">freeipa.vikki.in</span></code></pre></figure>

<p><em>Step 2: Set local resolver for the hostname</em></p>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">#</span>vim /etc/hosts
<span class="go">10.0.0.1 freeipa.vikki.in freeipa</span></code></pre></figure>

<p><em>Step 3: Disable selinux(optional)</em></p>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">#</span>vim /etc/sysconfig/selinux
<span class="go">SELINUX=disabled</span></code></pre></figure>

<p><em>Step 4: Reboot server</em></p>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">#</span><span class="w"> </span>reboot</code></pre></figure>

<p><em>Step 5: Verify hostname and selinux</em></p>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">#</span><span class="nb">hostname</span>
<span class="go">freeipa.vikki.in
</span><span class="gp">#</span>getenforce
<span class="go">    Disabled</span></code></pre></figure>

<p><em>Step 6: Install ipa server</em></p>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">#</span><span class="w"> </span>yum <span class="nb">install</span> <span class="nt">-y</span> ipa-server <span class="nb">bind </span>bind-dyndb-ldap ipa-server-dns</code></pre></figure>

<p><em>Step 7: Configure FreeIPA</em></p>

<p>If you have a separate DNS server for managing the domain remove the option(–setup-dns)</p>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">#</span><span class="w"> </span>ipa-server-install <span class="nt">--setup-dns</span>
<span class="go">Existing BIND configuration detected, overwrite? [no]: yes
Enter the fully qualified domain name of the computer
on which you're setting up server software. Using the form
</span><span class="gp">&lt;hostname&gt;</span>.&lt;domainname&gt;
<span class="go">Example: master.example.com.
Server host name [freeipa.vikki.in]: freeipa.vikki.in
Please confirm the domain name [vikki.in]: vikki.in
Please provide a realm name [VIKKI.IN]: VIKKI.IN
Directory Manager password:
Password (confirm):
IPA admin password:
Password (confirm):
Do you want to configure DNS forwarders? [yes]: yes
Enter the IP address of DNS forwarder to use, or press Enter to finish.
Enter IP address for a DNS forwarder: 8.8.8.8
DNS forwarder 8.8.8.8 added
Enter IP address for a DNS forwarder: 8.8.4.4
DNS forwarder 8.8.4.4 added
</span><span class="gp">Enter IP address for a DNS forwarder: &lt;enter&gt;</span><span class="w">
</span><span class="go">Do you want to configure the reverse zone? [yes]: yes
Please specify the reverse zone name [0.0.10.in-addr.arpa.]: 0.0.10.in-addr.arpa
Using reverse zone 0.0.10.in-addr.arpa.
The IPA Master Server will be configured with:
Hostname: freeipa.vikki.in
IP address: 10.0.0.1
Domain name: vikki.in
Realm name: VIKKI.IN
BIND DNS server will be configured to serve IPA domain with:
Forwarders: 8.8.8.8, 8.8.4.4
Reverse zone: 0.0.10.in-addr.arpa.
Continue to configure the system with these values? [no]: yes
The following operations may take some minutes to complete.
Please wait until the prompt is returned.
Configuring NTP daemon (ntpd)
[1/4]: stopping ntpd
[2/4]: writing configuration
[3/4]: configuring ntpd to start on boot
[4/4]: starting ntpd
Done configuring NTP daemon (ntpd).
Configuring directory server (dirsrv). Estimated time: 1 minute
[1/42]: creating directory server user
[2/42]: creating directory server instance
[3/42]: adding default schema
[4/42]: enabling memberof plugin
[5/42]: enabling winsync plugin
[6/42]: configuring replication version plugin
[7/42]: enabling IPA enrollment plugin
[8/42]: enabling ldapi
[9/42]: configuring uniqueness plugin
[10/42]: configuring uuid plugin
[11/42]: configuring modrdn plugin
[12/42]: configuring DNS plugin
[13/42]: enabling entryUSN plugin
[14/42]: configuring lockout plugin
[15/42]: creating indices
[16/42]: enabling referential integrity plugin
[17/42]: configuring certmap.conf
[18/42]: configure autobind for root
[19/42]: configure new location for managed entries
[20/42]: configure dirsrv ccache
[21/42]: enable SASL mapping fallback
[22/42]: restarting directory server
[23/42]: adding default layout
[24/42]: adding delegation layout
[25/42]: creating container for managed entries
[26/42]: configuring user private groups
[27/42]: configuring netgroups from hostgroups
[28/42]: creating default Sudo bind user
[29/42]: creating default Auto Member layout
[30/42]: adding range check plugin
[31/42]: creating default HBAC rule allow_all
[32/42]: adding entries for topology management
[33/42]: initializing group membership
[34/42]: adding master entry
[35/42]: initializing domain level
[36/42]: configuring Posix uid/gid generation
[37/42]: adding replication acis
[38/42]: enabling compatibility plugin
[39/42]: activating sidgen plugin
[40/42]: activating extdom plugin
[41/42]: tuning directory server
[42/42]: configuring directory to start on boot
Done configuring directory server (dirsrv).
Configuring certificate server (pki-tomcatd). Estimated time: 3 minutes 30 seconds
[1/27]: creating certificate server user
[2/27]: configuring certificate server instance
[3/27]: stopping certificate server instance to update CS.cfg
[4/27]: backing up CS.cfg
[5/27]: disabling nonces
[6/27]: set up CRL publishing
[7/27]: enable PKIX certificate path discovery and validation
[8/27]: starting certificate server instance
[9/27]: creating RA agent certificate database
[10/27]: importing CA chain to RA certificate database
[11/27]: fixing RA database permissions
[12/27]: setting up signing cert profile
[13/27]: setting audit signing renewal to 2 years
[14/27]: restarting certificate server
[15/27]: requesting RA certificate from CA
[16/27]: issuing RA agent certificate
[17/27]: adding RA agent as a trusted user
[18/27]: authorizing RA to modify profiles
[19/27]: configure certmonger for renewals
[20/27]: configure certificate renewals
[21/27]: configure RA certificate renewal
[22/27]: configure Server-Cert certificate renewal
[23/27]: Configure HTTP to proxy connections
[24/27]: restarting certificate server
[25/27]: migrating certificate profiles to LDAP
[26/27]: importing IPA certificate profiles
[27/27]: adding default CA ACL
Done configuring certificate server (pki-tomcatd).
Configuring directory server (dirsrv). Estimated time: 10 seconds
[1/3]: configuring ssl for ds instance
[2/3]: restarting directory server
[3/3]: adding CA certificate entry
Done configuring directory server (dirsrv).
Configuring Kerberos KDC (krb5kdc). Estimated time: 30 seconds
[1/10]: adding sasl mappings to the directory
[2/10]: adding kerberos container to the directory
[3/10]: configuring KDC
[4/10]: initialize kerberos container
[5/10]: adding default ACIs
[6/10]: creating a keytab for the directory
[7/10]: creating a keytab for the machine
[8/10]: adding the password extension to the directory
[9/10]: starting the KDC
[10/10]: configuring KDC to start on boot
Done configuring Kerberos KDC (krb5kdc).
Configuring kadmin
[1/2]: starting kadmin
[2/2]: configuring kadmin to start on boot
Done configuring kadmin.
Configuring ipa_memcached
[1/2]: starting ipa_memcached
[2/2]: configuring ipa_memcached to start on boot
Done configuring ipa_memcached.
Configuring ipa-otpd
[1/2]: starting ipa-otpd
[2/2]: configuring ipa-otpd to start on boot
Done configuring ipa-otpd.
Configuring the web interface (httpd). Estimated time: 1 minute
[1/19]: setting mod_nss port to 443
[2/19]: setting mod_nss protocol list to TLSv1.0 - TLSv1.2
[3/19]: setting mod_nss password file
[4/19]: enabling mod_nss renegotiate
[5/19]: adding URL rewriting rules
[6/19]: configuring httpd
[7/19]: configure certmonger for renewals
[8/19]: setting up ssl
[9/19]: importing CA certificates from LDAP
[10/19]: setting up browser autoconfig
[11/19]: publish CA cert
[12/19]: creating a keytab for httpd
[13/19]: clean up any existing httpd ccache
[14/19]: configuring SELinux for httpd
[15/19]: create KDC proxy user
[16/19]: create KDC proxy config
[17/19]: enable KDC proxy
[18/19]: restarting httpd
[19/19]: configuring httpd to start on boot
Done configuring the web interface (httpd).
Applying LDAP updates
Upgrading IPA:
[1/9]: stopping directory server
[2/9]: saving configuration
[3/9]: disabling listeners
[4/9]: enabling DS global lock
[5/9]: starting directory server
[6/9]: upgrading server
[7/9]: stopping directory server
[8/9]: restoring configuration
[9/9]: starting directory server
Done.
Restarting the directory server
Restarting the KDC
Configuring DNS (named)
[1/12]: generating rndc key file
WARNING: Your system is running out of entropy, you may experience long delays
[2/12]: adding DNS container
[3/12]: setting up our zone
[4/12]: setting up reverse zone
[5/12]: setting up our own record
[6/12]: setting up records for other masters
[7/12]: adding NS record to the zones
[8/12]: setting up CA record
[9/12]: setting up kerberos principal
[10/12]: setting up named.conf
[11/12]: configuring named to start on boot
[12/12]: changing resolv.conf to point to ourselves
Done configuring DNS (named).
Configuring DNS key synchronization service (ipa-dnskeysyncd)
[1/7]: checking status
[2/7]: setting up bind-dyndb-ldap working directory
[3/7]: setting up kerberos principal
[4/7]: setting up SoftHSM
[5/7]: adding DNSSEC containers
[6/7]: creating replica keys
[7/7]: configuring ipa-dnskeysyncd to start on boot
Done configuring DNS key synchronization service (ipa-dnskeysyncd).
Restarting ipa-dnskeysyncd
Restarting named
Restarting the web server
==============================================================================
Setup complete
Next steps:
1. You must make sure these network ports are open:
TCP Ports:
* 80, 443: HTTP/HTTPS
* 389, 636: LDAP/LDAPS
* 88, 464: kerberos
* 53: bind
UDP Ports:
* 88, 464: kerberos
* 53: bind
* 123: ntp
2. You can now obtain a kerberos ticket using the command: 'kinit admin'
This ticket will allow you to use the IPA tools (e.g., ipa user-add)
and the web user interface.
Be sure to back up the CA certificate stored in /root/cacert.p12
This file is required to create replicas. The password for this
file is the Directory Manager password</span></code></pre></figure>

<p><em>Step 8: Configure firewall</em></p>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">#</span>firewall-cmd <span class="nt">--permanent</span> <span class="nt">--add-service</span><span class="o">=</span>ntp
<span class="gp">#</span>firewall-cmd <span class="nt">--permanent</span> <span class="nt">--add-service</span><span class="o">=</span>http
<span class="gp">#</span>firewall-cmd <span class="nt">--permanent</span> <span class="nt">--add-service</span><span class="o">=</span>https
<span class="gp">#</span>firewall-cmd <span class="nt">--permanent</span> <span class="nt">--add-service</span><span class="o">=</span>ldap
<span class="gp">#</span>firewall-cmd <span class="nt">--permanent</span> <span class="nt">--add-service</span><span class="o">=</span>ldaps
<span class="gp">#</span>firewall-cmd <span class="nt">--permanent</span> <span class="nt">--add-service</span><span class="o">=</span>kerberos
<span class="gp">#</span>firewall-cmd <span class="nt">--permanent</span> <span class="nt">--add-service</span><span class="o">=</span>kpasswd</code></pre></figure>

<p>Either add all the above rules in firewall or simply flush all rules from iptables(not recommended in production)</p>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">#</span><span class="w"> </span>iptables <span class="nt">-F</span></code></pre></figure>

<p><em>Step 9: Get Kerberos tickets</em><br />
Now the FreeIPA server is ready , we should generate the kerberos ticket with admin privilege. This kerberos ticket is needed to run any IPA commands in server with full privileges and to connect web UI.</p>

<p>Kerberos provides authentication services for entire FreeIPA components.</p>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">#</span>kinit admin
<span class="gp">Password for admin@VIKKI.IN:#</span><span class="w"> </span>IPA admin password</code></pre></figure>

<p>We can also view the current Kerberos ticket with expiry details using the klist command. The default expiry period is 24hours.</p>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">#</span><span class="w"> </span>klist
<span class="go">Ticket cache: KEYRING:persistent:0:0
Default principal: admin@VIKKI.IN
Valid starting Expires Service principal
08/09/2016 14:45:53 11/09/2016 14:45:50 krbtgt/ADMIN@VIKKI.IN</span></code></pre></figure>

<p><em>step 10: Enabled home directory and default shell</em><br />
We have to enable the home directory creation and default login shell for the new user login. Run the below command to set it.</p>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">#</span><span class="w"> </span>ipa config-mod <span class="nt">--defaultshell</span><span class="o">=</span>/bin/bash
<span class="gp">#</span><span class="w"> </span>authconfig <span class="nt">--enablemkhomedir</span> <span class="nt">--update</span></code></pre></figure>

<p><em>Step 11: Login to freeipa web</em><br />
Login to the freeIPA server from the browser and create some users.</p>

<!--kg-card-begin: image-->
<figure class="kg-card kg-image-card"><img src="/content/images/2018/01/Screenshot-from-2018-01-19-18-40-38.png" class="kg-image" alt="Screenshot-from-2018-01-19-18-40-38" /></figure>
<!--kg-card-end: image-->

<p><em>Step 12: Add dns entry for the IPA client</em><br />
Now the user has been created , we can configure the dns record for the new clients to be added under domain vikki.in</p>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">#</span><span class="w"> </span>ipa dnsrecord-add vikki.in client01 <span class="nt">--a-rec</span> 10.0.0.2
<span class="go">IPA Client</span></code></pre></figure>

<h5 id="freeipa-client-installation-and-configuration">FreeIPA client Installation and Configuration</h5>

<p><em>Step 1: Freeipa client preparation</em></p>

<p>Set hostname “client01.vikki.in”<br />
Disable “selinux”<br />
Disable “Firewall”<br />
For all the above follow the same procedure followed in FreeIPA server preparation</p>

<p><em>Step 2: Set DNS server IP to FreeIPA server</em></p>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">#</span><span class="w"> </span>vim /etc/resolv.conf
<span class="go">nameserver 10.0.0.1
</span><span class="gp">#</span>dig client01.vikki.in</code></pre></figure>

<p><em>Step 3: Install ipa client</em></p>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">#</span><span class="w"> </span>yum <span class="nt">-y</span> <span class="nb">install </span>ipa-client
<span class="go">Discovery was successful!
Hostname: client01.vikki.in
Realm: VIKKI.IN
DNS Domain: vikki.in
IPA Server: freeipa.vikki.in
BaseDN: dc=vikki,dc=in
</span><span class="gp">#</span><span class="w"> </span>confirm settings and proceed with <span class="s2">"yes"</span>
<span class="go">Continue to configure the system with these values? [no]: yes
</span><span class="gp">#</span><span class="w"> </span>answer with admin
<span class="go">User authorized to enroll computers: admin
Synchronizing time with KDC...
Unable to sync time with IPA NTP server, assuming the time is in sync. Please check that 123 UDP port is opened.
Password for admin@vikki.in:
Successfully retrieved CA cert
Subject: CN=Certificate Authority,O=vikki.in
Issuer: CN=Certificate Authority,O=vikki.in
Valid From: Fri Mar 20 01:42:15 2015 UTC
Valid Until: Tue Mar 20 01:42:15 2035 UTC
Enrolled in IPA realm VIKKI.IN
</span><span class="c">.....
.....
</span><span class="go">Configured /etc/ssh/ssh_config
Configured /etc/ssh/sshd_config
Client configuration complete.</span></code></pre></figure>

<p><em>Step 4: Try to login using the user created from the FreeIPA server GUI</em></p>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">#</span><span class="w"> </span>ssh vivek@client01.vikki.in
<span class="go">Password: 
Password expired. Change your password now.
Current Password: 
New password: 
Retype new password:
Creating home directory for vivek.
Last login: Fri Jan 19 18:44:31 2018 from localhost
</span><span class="gp">#</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">#</span><span class="w"> </span><span class="nb">pwd</span>
<span class="go">/home/vivek</span></code></pre></figure>

<p>If you have not enabled the home directory creation and login shell , you will get the below output.</p>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">#</span><span class="w"> </span>ssh vivek@client01.vikki.in
<span class="go">Password: 
Password expired. Change your password now.
Current Password: 
New password: 
Retype new password: 
Could not chdir to home directory /home/vivek: No such file or directory
</span><span class="gp">-sh-4.2$</span><span class="w"> 
</span><span class="go">    </span></code></pre></figure>

<h5 id="freeipa-in-docker-container">FreeIPA in Docker container</h5>

<p>FreeIPA is also available as a docker container. We can download the FreeIPA repository from github <a href="https://github.com/freeipa/freeipa-container/archive/master.zip">master.zip</a>.</p>

<h4 id="how-to-build-freeipa-docker-container">How to build FreeIPA docker container</h4>

<p>Download the zip file, extract it , go inside the directory and run the docker build.</p>

<p>This repository has “Dockerfile” which supports many operation system, use the one you required. Here i am installing the container in Fedora27 , so i passing the respective dockerfile using “-f” option.</p>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">[root@fedora25 freeipa-container-master]#</span><span class="w"> </span>docker build <span class="nt">-t</span> freeipa-server <span class="nt">-f</span> Dockerfile.fedora-27 <span class="nb">.</span>
<span class="go">Sending build context to Docker daemon 161.3 kB
Step 1/45 : FROM registry.fedoraproject.org/fedora:27
Trying to pull repository registry.fedoraproject.org/fedora ... 
sha256:44be9569d32fee1846afd1d17dc681c2b8f1f2b367764194ade32d9bfdf1984f: Pulling from registry.fedoraproject.org/fedora
178a618c1fcb: Pull complete 
Digest: sha256:44be9569d32fee1846afd1d17dc681c2b8f1f2b367764194ade32d9bfdf1984f
Status: Downloaded newer image for registry.fedoraproject.org/fedora:27
</span><span class="gp">  ---&gt;</span><span class="w"> </span>9881e4229c95
<span class="go">Step 2/45 : MAINTAINER Jan Pazdziora
</span><span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>4ccc52e61959
<span class="gp">  ---&gt;</span><span class="w"> </span>e6203b4f193f
<span class="go">Removing intermediate container 4ccc52e61959
</span><span class="gp">Step 3/45 : RUN groupadd -g 288 kdcproxy ;</span><span class="w"> </span>useradd <span class="nt">-u</span> 288 <span class="nt">-g</span> 288 <span class="nt">-c</span> <span class="s1">'IPA KDC Proxy User'</span> <span class="nt">-d</span> <span class="s1">'/var/lib/kdcproxy'</span> <span class="nt">-s</span> <span class="s1">'/sbin/nologin'</span> kdcproxy
<span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>281bede2e1ca
<span class="gp">  ---&gt;</span><span class="w"> </span>11f29258686a
<span class="go">Removing intermediate container 281bede2e1ca
</span><span class="gp">Step 4/45 : RUN groupadd -g 289 ipaapi;</span><span class="w"> </span>useradd <span class="nt">-u</span> 289 <span class="nt">-g</span> 289 <span class="nt">-c</span> <span class="s1">'IPA Framework User'</span> <span class="nt">-d</span> / <span class="nt">-s</span> <span class="s1">'/sbin/nologin'</span> ipaapi
<span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>acff04c732af
<span class="go">useradd: warning: the home directory already exists.
Not copying any file from skel directory into it.
</span><span class="gp">  ---&gt;</span><span class="w"> </span>9100a9565039
<span class="go">Removing intermediate container acff04c732af
Step 5/45 : RUN mkdir -p /run/lock &amp;&amp; dnf upgrade -y &amp;&amp; dnf install -y freeipa-server freeipa-server-dns freeipa-server-trust-ad initscripts &amp;&amp; dnf clean all
</span><span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>b33a6dd071aa
<span class="go">Fedora 27 - x86_64 - Updates 3.2 MB/s | 16 MB 00:05    
Fedora 27 - x86_64 3.0 MB/s | 58 MB 00:19    
Last metadata expiration check: 0:00:06 ago on Sat Jan 20 06:40:05 2018.
Dependencies resolved.
================================================================================
  Package Arch Version Repository Size
================================================================================
Upgrading:
  gdbm x86_64 1:1.13-6.fc27 updates 158 k

Transaction Summary
================================================================================
Upgrade 1 Package

Total download size: 158 k
Downloading Packages:
gdbm-1.13-6.fc27.x86_64.rpm 198 kB/s | 158 kB 00:00    
--------------------------------------------------------------------------------
Total 72 kB/s | 158 kB 00:02     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing : 1/1 
  Upgrading : gdbm-1:1.13-6.fc27.x86_64 1/2 
  Running scriptlet: gdbm-1:1.13-6.fc27.x86_64 1/2 
  Cleanup : gdbm-1.14-1.fc27.x86_64 2/2 
  Running scriptlet: gdbm-1.14-1.fc27.x86_64 2/2 
  Verifying : gdbm-1:1.13-6.fc27.x86_64 1/2 
  Verifying : gdbm-1.14-1.fc27.x86_64 2/2 

Upgraded:
  gdbm.x86_64 1:1.13-6.fc27                                                     

Complete!
Last metadata expiration check: 0:00:38 ago on Sat Jan 20 06:40:05 2018.
Dependencies resolved.
================================================================================
  Package Arch Version Repository
                                                                            Size
================================================================================
Installing:
  freeipa-server x86_64 4.6.1-3.fc27 fedora 398 k
  freeipa-server-dns noarch 4.6.1-3.fc27 fedora 60 k
  freeipa-server-trust-ad x86_64 4.6.1-3.fc27 fedora 152 k
  initscripts x86_64 9.79-1.fc27 updates 394 k
Installing dependencies:
  389-ds-base x86_64 1.3.7.8-1.fc27 updates 1.8 M
  389-ds-base-libs x86_64 1.3.7.8-1.fc27 updates 744 k
  GeoIP x86_64 1.6.11-3.fc27 fedora 124 k
  GeoIP-GeoLite-data noarch 2018.01-1.fc27 updates 465 k
  timedatex x86_64 0.4-5.fc27 fedora 30 k

Transaction Summary
================================================================================
Install 416 Packages

Total download size: 184 M
Installed size: 568 M
Downloading Packages:
(1/416): freeipa-server-dns-4.6.1-3.fc27.noarch 103 kB/s | 60 kB 00:00    
(2/416): freeipa-server-trust-ad-4.6.1-3.fc27.x 208 kB/s | 152 kB 00:00    
(3/416): cyrus-sasl-gssapi-2.1.26-34.fc27.x86_6 286 kB/s | 46 kB 00:00    
(4/416): freeipa-server-4.6.1-3.fc27.x86_64.rpm 365 kB/s | 398 kB 00:01    
(5/416): freeipa-client-4.6.1-3.fc27.x86_64.rpm 441 kB/s | 159 kB 00:00    
(415/416): linux-atm-libs-2.5.1-19.fc27.x86_64. 154 kB/s | 40 kB 00:00    
(416/416): libicu-57.1-9.fc27.x86_64.rpm 862 kB/s | 8.4 MB 00:09    
--------------------------------------------------------------------------------
Total 2.0 MB/s | 184 MB 01:30     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Running scriptlet: copy-jdk-configs-3.3-2.fc27.noarch 1/1 
  Running scriptlet: pki-base-10.5.1-1.fc27.noarch 1/1 
  Running scriptlet: java-1.8.0-openjdk-headless-1:1.8.0.151-1.b12.fc27.x 1/1 
  Preparing : 1/1 
  Installing : perl-Exporter-5.72-395.fc27.noarch 1/416 
  Installing : perl-libs-4:5.26.1-402.fc27.x86_64 2/416 
  Running scriptlet: perl-libs-4:5.26.1-402.fc27.x86_64                   
  Installing : freetype-2.8-7.fc27.x86_64 215/416 
  Running scriptlet: opendnssec-1.4.14-1.fc27.x86_64 216/416 
  Installing : opendnssec-1.4.14-1.fc27.x86_64 216/416 
  Running scriptlet: opendnssec-1.4.14-1.fc27.x86_64 216/416 
The token has been initialized and is reassigned to slot 1739892472
INFO: The XML in /etc/opendnssec/conf.xml is valid
INFO: The XML in /etc/opendnssec/zonelist.xml is valid
INFO: The XML in /etc/opendnssec/kasp.xml is valid
WARNING: In policy default, Y used in duration field for Keys/KSK Lifetime (P1Y) in /etc/opendnssec/kasp.xml - this will be interpreted as 365 days
WARNING: In policy lab, Y used in duration field for Keys/KSK Lifetime (P1Y) in /etc/opendnssec/kasp.xml - this will be interpreted as 365 days
</span><span class="gp">*WARNING* This will erase all data in the database;</span><span class="w"> </span>are you sure? <span class="o">[</span>y/N] fixing permissions on file /var/opendnssec/kasp.db
<span class="go">zonelist filename set to /etc/opendnssec/zonelist.xml.
kasp filename set to /etc/opendnssec/kasp.xml.
Repository SoftHSM found
No Maximum Capacity set.
</span><span class="gp">RequireBackup NOT set;</span><span class="w"> </span>please make sure that you know the potential problems of using keys which are not recoverable
<span class="go">Policy default found
</span><span class="gp">Info: converting P1Y to seconds;</span><span class="w"> </span>M interpreted as 31 days, Y interpreted as 365 days
<span class="go">Policy lab found
</span><span class="gp">Info: converting P1Y to seconds;</span><span class="w"> </span>M interpreted as 31 days, Y interpreted as 365 days
<span class="go">  Installing : net-tools-2.0-0.45.20160912git.fc27.x86_64 416/416 
  Running scriptlet: libsss_sudo-1.16.0-5.fc27.x86_64 416/416Failed to connect to bus: No such file or directory
  
  Verifying : freeipa-server-4.6.1-3.fc27.x86_64 1/416 
  Verifying : freeipa-server-dns-4.6.1-3.fc27.noarch 2/416 
  Verifying : freeipa-server-trust-ad-4.6.1-3.fc27.x86_64 3/416 
  Verifying : cyrus-sasl-gssapi-2.1.26-34.fc27.x86_64              
  Verifying : lua-posix-33.3.1-7.fc27.x86_64 415/416 
  Verifying : perl-libnet-3.11-1.fc27.noarch 416/416 

Installed:
  freeipa-server.x86_64 4.6.1-3.fc27                                            
  freeipa-server-dns.noarch 4.6.1-3.fc27                                        
  freeipa-server-trust-ad.x86_64 4.6.1-3.fc27                                   
                                            
  xsom.noarch 0-17.20110809svn.fc27                                             

Complete!
</span><span class="gp">Non-fatal &lt;unknown&gt;</span><span class="w"> </span>scriptlet failure <span class="k">in </span>rpm package nfs-utils
<span class="gp">Non-fatal &lt;unknown&gt;</span><span class="w"> </span>scriptlet failure <span class="k">in </span>rpm package nfs-utils
<span class="gp">Non-fatal &lt;unknown&gt;</span><span class="w"> </span>scriptlet failure <span class="k">in </span>rpm package nfs-utils
<span class="gp">Non-fatal &lt;unknown&gt;</span><span class="w"> </span>scriptlet failure <span class="k">in </span>rpm package nfs-utils
<span class="go">Non-fatal POSTIN scriptlet failure in rpm package freeipa-server-trust-ad
Non-fatal POSTIN scriptlet failure in rpm package freeipa-server-trust-ad
18 files removed
</span><span class="gp">  ---&gt;</span><span class="w"> </span>8e5982e4aba2
<span class="go">Removing intermediate container b33a6dd071aa
Step 6/45 : RUN sed -i '/installutils.verify_fqdn(config.master_host_name, options.no_host_dns)/s/)/, local_hostname=False)/' /usr/lib/python2.7/site-packages/ipaserver/install/server/replicainstall.py &amp;&amp; python -m compileall /usr/lib/python2.7/site-packages/ipaserver/install/server/replicainstall.py
</span><span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>3f16baa3e82f
<span class="go">Compiling /usr/lib/python2.7/site-packages/ipaserver/install/server/replicainstall.py ...
</span><span class="gp">  ---&gt;</span><span class="w"> </span>907bee58561a
<span class="go">Removing intermediate container 3f16baa3e82f
Step 7/45 : RUN sed -i '/installutils.verify_fqdn(config.master_host_name, options.no_host_dns)/s/)/, local_hostname=False)/' /usr/lib/python3.6/site-packages/ipaserver/install/server/replicainstall.py &amp;&amp; python3 -m compileall /usr/lib/python3.6/site-packages/ipaserver/install/server/replicainstall.py
</span><span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>c33cb158b26c
<span class="go">Compiling '/usr/lib/python3.6/site-packages/ipaserver/install/server/replicainstall.py'...
</span><span class="gp">  ---&gt;</span><span class="w"> </span>0a6e9da4fd27
<span class="go">Removing intermediate container c33cb158b26c
Step 8/45 : RUN [-L /etc/systemd/system/syslog.service] &amp;&amp; ! [-f /etc/systemd/system/syslog.service] &amp;&amp; rm -f /etc/systemd/system/syslog.service
</span><span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>d7ef9f4d9b2a
<span class="gp">  ---&gt;</span><span class="w"> </span>9980910fa2dc
<span class="go">Removing intermediate container d7ef9f4d9b2a
Step 9/45 : RUN find /etc/systemd/system/* '!' -name '*.wants' | xargs rm -rvf
</span><span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>594660eda1bc
<span class="go">removed '/etc/systemd/system/basic.target.wants/dnf-makecache.timer'
removed '/etc/systemd/system/console-getty.service'
removed '/etc/systemd/system/dbus-org.freedesktop.timedate1.service'
removed '/etc/systemd/system/default.target'
removed '/etc/systemd/system/dev-hugepages.mount'
removed '/etc/systemd/system/getty.target'
removed '/etc/systemd/system/getty.target.wants/getty@tty1.service'
removed directory '/etc/systemd/system/httpd.d'
removed '/etc/systemd/system/local-fs.target.wants/fedora-readonly.service'
removed '/etc/systemd/system/multi-user.target.wants/remote-fs.target'
removed '/etc/systemd/system/multi-user.target.wants/auditd.service'
removed '/etc/systemd/system/multi-user.target.wants/nfs-client.target'
removed '/etc/systemd/system/multi-user.target.wants/sssd.service'
removed '/etc/systemd/system/remote-fs.target.wants/nfs-client.target'
removed '/etc/systemd/system/sockets.target.wants/sssd-secrets.socket'
removed '/etc/systemd/system/sys-fs-fuse-connections.mount'
removed '/etc/systemd/system/sysinit.target.wants/fedora-import-state.service'
removed '/etc/systemd/system/systemd-logind.service'
removed '/etc/systemd/system/systemd-remount-fs.service'
removed '/etc/systemd/system/systemd-timedated.service'
</span><span class="gp">  ---&gt;</span><span class="w"> </span>6273c3ce8454
<span class="go">Removing intermediate container 594660eda1bc
</span><span class="gp">Step 10/45 : RUN for i in basic.target network.service netconsole.service ;</span><span class="w"> </span><span class="k">do </span><span class="nb">rm</span> <span class="nt">-f</span> /usr/lib/systemd/system/<span class="nv">$i</span> <span class="o">&amp;&amp;</span> <span class="nb">ln</span> <span class="nt">-s</span> /dev/null /usr/lib/systemd/system/<span class="nv">$i</span> <span class="p">;</span> <span class="k">done</span>
<span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>3805f0460b62
<span class="gp">  ---&gt;</span><span class="w"> </span>a82df26e2086
<span class="go">Removing intermediate container 3805f0460b62
Step 11/45 : RUN rm -fv /usr/lib/systemd/system/sysinit.target.wants/*
</span><span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>2340c6e904de
<span class="go">removed '/usr/lib/systemd/system/sysinit.target.wants/cryptsetup.target'
removed '/usr/lib/systemd/system/sysinit.target.wants/dev-hugepages.mount'
removed '/usr/lib/systemd/system/sysinit.target.wants/dev-mqueue.mount'
removed '/usr/lib/systemd/system/sysinit.target.wants/ldconfig.service'
removed '/usr/lib/systemd/system/sysinit.target.wants/proc-sys-fs-binfmt_misc.automount'
removed '/usr/lib/systemd/system/sysinit.target.wants/sys-fs-fuse-connections.mount'
removed '/usr/lib/systemd/system/sysinit.target.wants/sys-kernel-config.mount'
removed '/usr/lib/systemd/system/sysinit.target.wants/sys-kernel-debug.mount'
removed '/usr/lib/systemd/system/sysinit.target.wants/systemd-ask-password-console.path'
removed '/usr/lib/systemd/system/sysinit.target.wants/systemd-binfmt.service'
removed '/usr/lib/systemd/system/sysinit.target.wants/systemd-firstboot.service'
removed '/usr/lib/systemd/system/sysinit.target.wants/systemd-journal-catalog-update.service'
removed '/usr/lib/systemd/system/sysinit.target.wants/systemd-journal-flush.service'
removed '/usr/lib/systemd/system/sysinit.target.wants/systemd-journald.service'
removed '/usr/lib/systemd/system/sysinit.target.wants/systemd-machine-id-commit.service'
removed '/usr/lib/systemd/system/sysinit.target.wants/systemd-sysctl.service'
removed '/usr/lib/systemd/system/sysinit.target.wants/systemd-sysusers.service'
removed '/usr/lib/systemd/system/sysinit.target.wants/systemd-tmpfiles-setup.service'
removed '/usr/lib/systemd/system/sysinit.target.wants/systemd-update-done.service'
removed '/usr/lib/systemd/system/sysinit.target.wants/systemd-update-utmp.service'
</span><span class="gp">  ---&gt;</span><span class="w"> </span>e575744cbec4
<span class="go">Removing intermediate container 2340c6e904de
</span><span class="gp">Step 12/45 : RUN echo 'disable *' &gt;</span><span class="w"> </span>/usr/lib/systemd/system-preset/10-container-disable.preset
<span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>c2c372a783c6
<span class="gp">  ---&gt;</span><span class="w"> </span>afbb3fa9de01
<span class="go">Removing intermediate container c2c372a783c6
Step 13/45 : RUN /sbin/ldconfig -X
</span><span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>d4e981ba0dae
<span class="gp">  ---&gt;</span><span class="w"> </span>18cde0edd362
<span class="go">Removing intermediate container d4e981ba0dae
Step 14/45 : COPY init-data /usr/local/sbin/init
</span><span class="gp">  ---&gt;</span><span class="w"> </span>e3cf2eac153f
<span class="go">Removing intermediate container b5a7b4f89ee8
Step 15/45 : COPY ipa-server-configure-first ipa-server-status-check exit-with-status ipa-volume-upgrade-* /usr/sbin/
</span><span class="gp">  ---&gt;</span><span class="w"> </span>c60a71108eda
<span class="go">Removing intermediate container b38588e0eecc
Step 16/45 : COPY install.sh uninstall.sh /bin/
</span><span class="gp">  ---&gt;</span><span class="w"> </span>d208c2ad0dea
<span class="go">Removing intermediate container 633df7d21612
Step 17/45 : RUN mv /bin/hostnamectl /bin/hostnamectl.orig
</span><span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>d84b0e146325
<span class="gp">  ---&gt;</span><span class="w"> </span>41a46d7a76d0
<span class="go">Removing intermediate container d84b0e146325
Step 18/45 : RUN mv /usr/bin/domainname /usr/bin/domainname.orig
</span><span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>808c9796831e
<span class="gp">  ---&gt;</span><span class="w"> </span>bdd853c871b6
<span class="go">Removing intermediate container 808c9796831e
Step 19/45 : ADD hostnamectl-wrapper /bin/hostnamectl
</span><span class="gp">  ---&gt;</span><span class="w"> </span>f34600ec54fd
<span class="go">Removing intermediate container f6f3c216ffd4
Step 20/45 : ADD hostnamectl-wrapper /usr/bin/domainname
</span><span class="gp">  ---&gt;</span><span class="w"> </span>49fb7d34f8af
<span class="go">Removing intermediate container 3c3c1695eb37
Step 21/45 : RUN chmod -v +x /usr/local/sbin/init /usr/sbin/ipa-server-configure-first /usr/sbin/ipa-server-status-check /usr/sbin/exit-with-status /usr/sbin/ipa-volume-upgrade-* /bin/install.sh /bin/uninstall.sh /bin/hostnamectl /usr/bin/domainname
</span><span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>c322618dc805
<span class="go">mode of '/usr/local/sbin/init' retained as 0755 (rwxr-xr-x)
mode of '/usr/sbin/ipa-server-configure-first' retained as 0755 (rwxr-xr-x)
mode of '/usr/sbin/ipa-server-status-check' retained as 0755 (rwxr-xr-x)
mode of '/usr/sbin/exit-with-status' retained as 0755 (rwxr-xr-x)
mode of '/usr/sbin/ipa-volume-upgrade-0.5-0.6' retained as 0755 (rwxr-xr-x)
mode of '/usr/sbin/ipa-volume-upgrade-0.5-1.0' retained as 0755 (rwxr-xr-x)
mode of '/usr/sbin/ipa-volume-upgrade-0.5-1.1' retained as 0755 (rwxr-xr-x)
mode of '/usr/sbin/ipa-volume-upgrade-0.6-1.0' retained as 0755 (rwxr-xr-x)
mode of '/usr/sbin/ipa-volume-upgrade-0.6-1.1' retained as 0755 (rwxr-xr-x)
mode of '/usr/sbin/ipa-volume-upgrade-1.0-1.1' retained as 0755 (rwxr-xr-x)
mode of '/bin/install.sh' retained as 0755 (rwxr-xr-x)
mode of '/bin/uninstall.sh' retained as 0755 (rwxr-xr-x)
mode of '/bin/hostnamectl' retained as 0755 (rwxr-xr-x)
mode of '/usr/bin/domainname' retained as 0755 (rwxr-xr-x)
</span><span class="gp">  ---&gt;</span><span class="w"> </span>0395279a17e5
<span class="go">Removing intermediate container c322618dc805
Step 22/45 : COPY container-ipa.target ipa-server-configure-first.service ipa-server-upgrade.service ipa-server-update-self-ip-address.service /usr/lib/systemd/system/
</span><span class="gp">  ---&gt;</span><span class="w"> </span>b9a4d37d8af7
<span class="go">Removing intermediate container 8218605ec53b
Step 23/45 : RUN rmdir -v /etc/systemd/system/multi-user.target.wants &amp;&amp; mkdir /etc/systemd/system/container-ipa.target.wants &amp;&amp; ln -s /etc/systemd/system/container-ipa.target.wants /etc/systemd/system/multi-user.target.wants
</span><span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>d5554f6b4498
<span class="go">rmdir: removing directory, '/etc/systemd/system/multi-user.target.wants'
</span><span class="gp">  ---&gt;</span><span class="w"> </span>ca9aaf468af8
<span class="go">Removing intermediate container d5554f6b4498
Step 24/45 : RUN systemctl set-default container-ipa.target
</span><span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>2b40be183177
<span class="go">Created symlink /etc/systemd/system/default.target → /usr/lib/systemd/system/container-ipa.target.
</span><span class="gp">  ---&gt;</span><span class="w"> </span>3d9f7251ef3d
<span class="go">Removing intermediate container 2b40be183177
Step 25/45 : RUN systemctl enable ipa-server-configure-first.service
</span><span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>6a7badce6e3e
<span class="go">Created symlink /etc/systemd/system/container-ipa.target.wants/ipa-server-configure-first.service → /usr/lib/systemd/system/ipa-server-configure-first.service.
</span><span class="gp">  ---&gt;</span><span class="w"> </span>74059555138d
<span class="go">Removing intermediate container 6a7badce6e3e
Step 26/45 : COPY exit-via-chroot.conf /usr/lib/systemd/system/systemd-poweroff.service.d/
</span><span class="gp">  ---&gt;</span><span class="w"> </span>6f481582dd11
<span class="go">Removing intermediate container d704db80e37d
Step 27/45 : COPY atomic-install-help /usr/share/ipa/
</span><span class="gp">  ---&gt;</span><span class="w"> </span>7f31c6a39572
<span class="go">Removing intermediate container 19f606e9e0bc
Step 28/45 : COPY volume-data-list volume-data-mv-list volume-data-autoupdate /etc/
</span><span class="gp">  ---&gt;</span><span class="w"> </span>b9c4aa387aa4
<span class="go">Removing intermediate container ca6ce5b07075
</span><span class="gp">Step 29/45 : RUN set -e ;</span><span class="w"> </span><span class="nb">cd</span> / <span class="p">;</span> <span class="nb">mkdir</span> /data-template <span class="p">;</span> <span class="nb">cat</span> /etc/volume-data-list | <span class="k">while </span><span class="nb">read </span>i <span class="p">;</span> <span class="k">do </span><span class="nb">echo</span> <span class="nv">$i</span> <span class="p">;</span> <span class="k">if</span> <span class="o">[</span><span class="nt">-e</span> <span class="nv">$i</span><span class="o">]</span> <span class="p">;</span> <span class="k">then </span><span class="nb">tar </span>cf - .<span class="nv">$i</span> | <span class="o">(</span> <span class="nb">cd</span> /data-template <span class="o">&amp;&amp;</span> <span class="nb">tar </span>xf - <span class="o">)</span> <span class="p">;</span> <span class="k">else </span><span class="nb">mkdir</span> <span class="nt">-p</span> /data-template<span class="si">$(</span> <span class="nb">dirname</span> <span class="nv">$i</span> <span class="si">)</span> <span class="p">;</span> <span class="k">fi</span> <span class="p">;</span> <span class="nb">mkdir</span> <span class="nt">-p</span> <span class="si">$(</span> <span class="nb">dirname</span> <span class="nv">$i</span> <span class="si">)</span> <span class="p">;</span> <span class="k">if</span> <span class="o">[</span><span class="s2">"</span><span class="nv">$i</span><span class="s2">"</span> <span class="o">==</span> /var/log/] <span class="p">;</span> <span class="k">then </span><span class="nb">mv</span> /var/log /var/log-removed <span class="p">;</span> <span class="k">else </span><span class="nb">rm</span> <span class="nt">-rf</span> <span class="nv">$i</span> <span class="p">;</span> <span class="k">fi</span> <span class="p">;</span> <span class="nb">ln</span> <span class="nt">-sf</span> /data<span class="k">${</span><span class="nv">i</span><span class="p">%/</span><span class="k">}</span> <span class="k">${</span><span class="nv">i</span><span class="p">%/</span><span class="k">}</span> <span class="p">;</span> <span class="k">done</span>
<span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>1e849a37ee72
<span class="go">/etc/certmonger/
/etc/dirsrv/
</span><span class="c">.....
</span><span class="go">/var/named/data/
/var/named/dynamic/
/var/named/dyndb-ldap/
</span><span class="gp">  ---&gt;</span><span class="w"> </span>49bf3153d005
<span class="go">Removing intermediate container 1e849a37ee72
Step 30/45 : RUN rm -rf /var/log-removed
</span><span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>35d0bb1e34ac
<span class="gp">  ---&gt;</span><span class="w"> </span>6d13c89ca7b8
<span class="go">Removing intermediate container 35d0bb1e34ac
Step 31/45 : RUN sed -i 's!^d /var/log.*!L /var/log - - - - /data/var/log!' /usr/lib/tmpfiles.d/var.conf
</span><span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>3287ce189368
<span class="gp">  ---&gt;</span><span class="w"> </span>0fc4ec2c345c
<span class="go">Removing intermediate container 3287ce189368
Step 32/45 : RUN mv /usr/lib/tmpfiles.d/journal-nocow.conf /usr/lib/tmpfiles.d/journal-nocow.conf.disabled
</span><span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>07849f109455
<span class="gp">  ---&gt;</span><span class="w"> </span>d80610223617
<span class="go">Removing intermediate container 07849f109455
Step 33/45 : RUN rm -f /data-template/var/lib/systemd/random-seed
</span><span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>b009e068aa00
<span class="gp">  ---&gt;</span><span class="w"> </span>3aa621b575ae
<span class="go">Removing intermediate container b009e068aa00
</span><span class="gp">Step 34/45 : RUN echo 1.1 &gt;</span><span class="w"> </span>/etc/volume-version
<span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>a9e66d69544f
<span class="gp">  ---&gt;</span><span class="w"> </span>05d2ab591923
<span class="go">Removing intermediate container a9e66d69544f
Step 35/45 : ENV container docker
</span><span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>27b114bb9901
<span class="gp">  ---&gt;</span><span class="w"> </span>3b927b73f0db
<span class="go">Removing intermediate container 27b114bb9901
Step 36/45 : EXPOSE 53/udp 53 80 443 389 636 88 464 88/udp 464/udp 123/udp 7389 9443 9444 9445
</span><span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>da76877790e9
<span class="gp">  ---&gt;</span><span class="w"> </span>40e09ab03c05
<span class="go">Removing intermediate container da76877790e9
Step 37/45 : VOLUME /tmp /run /data /var/log/journal
</span><span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>0ea0157b1149
<span class="gp">  ---&gt;</span><span class="w"> </span>81126c6e8057
<span class="go">Removing intermediate container 0ea0157b1149
Step 38/45 : STOPSIGNAL RTMIN+3
</span><span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>0829533a8567
<span class="gp">  ---&gt;</span><span class="w"> </span>0d9947067ebe
<span class="go">Removing intermediate container 0829533a8567
Step 39/45 : ENTRYPOINT /usr/local/sbin/init
</span><span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>3f6c0821043f
<span class="gp">  ---&gt;</span><span class="w"> </span>31def441bb06
<span class="go">Removing intermediate container 3f6c0821043f
</span><span class="gp">Step 40/45 : RUN uuidgen &gt;</span><span class="w"> </span>/data-template/build-id
<span class="gp">  ---&gt;</span><span class="w"> </span>Running <span class="k">in </span>70183a84ee14
<span class="gp">  ---&gt;</span><span class="w"> </span>dbb914132b5f
<span class="go">Removing intermediate container 70183a84ee14
</span><span class="gp">Step 41/45 : LABEL install 'docker run -ti --rm --privileged -v /:/host -e HOST=/host -e DATADIR=/var/lib/$</span><span class="o">{</span>NAME<span class="o">}</span> <span class="nt">-e</span> <span class="nv">NAME</span><span class="o">=</span><span class="k">${</span><span class="nv">NAME</span><span class="k">}</span> <span class="nt">-e</span> <span class="nv">IMAGE</span><span class="o">=</span><span class="k">${</span><span class="nv">IMAGE</span><span class="k">}</span> <span class="k">${</span><span class="nv">IMAGE</span><span class="k">}</span> /bin/install.sh<span class="s1">'
</span><span class="gp">  ---&gt;</span><span class="w"> </span><span class="s1">Running in 6deca08f490d
</span><span class="gp">  ---&gt;</span><span class="w"> </span><span class="s1">5fed892b4df7
</span><span class="go">Removing intermediate container 6deca08f490d
</span><span class="gp">Step 42/45 : LABEL run 'docker run $</span><span class="o">{</span>RUN_OPTS<span class="o">}</span> <span class="nt">--name</span> <span class="k">${</span><span class="nv">NAME</span><span class="k">}</span> <span class="nt">-v</span> /var/lib/<span class="k">${</span><span class="nv">NAME</span><span class="k">}</span>:/data:Z <span class="nt">-v</span> /sys/fs/cgroup:/sys/fs/cgroup:ro <span class="nt">--tmpfs</span> /run <span class="nt">--tmpfs</span> /tmp <span class="nt">-v</span> /dev/urandom:/dev/random:ro <span class="k">${</span><span class="nv">IMAGE</span><span class="k">}</span><span class="s1">'
</span><span class="gp">  ---&gt;</span><span class="w"> </span><span class="s1">Running in 7c26df7faabc
</span><span class="gp">  ---&gt;</span><span class="w"> </span><span class="s1">686f0db1737b
</span><span class="go">Removing intermediate container 7c26df7faabc
</span><span class="gp">Step 43/45 : LABEL RUN_OPTS_FILE '/var/lib/$</span><span class="o">{</span>NAME<span class="o">}</span>/docker-run-opts<span class="s1">'
</span><span class="gp">  ---&gt;</span><span class="w"> </span><span class="s1">Running in 7ecd298291f9
</span><span class="gp">  ---&gt;</span><span class="w"> </span><span class="s1">6070645145b8
</span><span class="go">Removing intermediate container 7ecd298291f9
</span><span class="gp">Step 44/45 : LABEL stop 'docker stop $</span><span class="o">{</span>NAME<span class="o">}</span><span class="s1">'
</span><span class="gp">  ---&gt;</span><span class="w"> </span><span class="s1">Running in 7303fefc3b5c
</span><span class="gp">  ---&gt;</span><span class="w"> </span><span class="s1">b43a46e901d8
</span><span class="go">Removing intermediate container 7303fefc3b5c
</span><span class="gp">Step 45/45 : LABEL uninstall 'docker run --rm --privileged -v /:/host -e HOST=/host -e DATADIR=/var/lib/$</span><span class="o">{</span>NAME<span class="o">}</span> <span class="k">${</span><span class="nv">IMAGE</span><span class="k">}</span> /bin/uninstall.sh<span class="s1">'
</span><span class="gp">  ---&gt;</span><span class="w"> </span><span class="s1">Running in bf4fb0f57293
</span><span class="gp">  ---&gt;</span><span class="w"> </span><span class="s1">e17fec1f8cf2
</span><span class="go">Removing intermediate container bf4fb0f57293
Successfully built e17fec1f8cf2</span></code></pre></figure>

<p>Once the repository is build, we can verify the images in docker.The docker image we created is <code class="language-html highlighter-rouge">freeipa-server</code> showing below</p>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">[root@fedora25 freeipa-container-master]#</span><span class="w"> </span>docker images
<span class="go">REPOSITORY TAG IMAGE ID CREATED SIZE
freeipa-server latest e17fec1f8cf2 10 minutes ago 855 MB
registry.fedoraproject.org/fedora 27 9881e4229c95 47 hours ago 252 MB
docker.io/freeipa/freeipa-server latest c1ab4ccd4cbc 7 days ago 795 MB</span></code></pre></figure>

<h4 id="how-to-run-the-freeipa-docker-container">How to run the FreeIPA docker container</h4>

<p>Now before running the container. Create a directory(used as a volume in docker instance) and set the necessary permission</p>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">  [root@fedora25 freeipa-container-master]#</span><span class="w"> </span><span class="nb">mkdir</span> /var/lib/ipa-data</code></pre></figure>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">[root@fedora25 freeipa-container-master]#</span><span class="w"> </span>setsebool <span class="nt">-P</span> container_manage_cgroup 1
<span class="gp">[root@fedora25 freeipa-container-master]#</span><span class="w"> </span><span class="nb">chmod </span>777 /var/lib/ipa-data</code></pre></figure>

<p>If you need to access the docker container outside the host, you should map the container ports with host ports using option -p 53:53/udp -p 53:53 -p 80:80 -p 443:443 -p 389:389 -p 636:636 -p 88:88 -p 464:464 -p 88:88/udp -p 464:464/udp -p 123:123/udp -p 7389:7389 -p 9443:9443 -p 9444:9444 -p 9445:9445. But here of for testing i am doing the default install</p>

<p>Now start run the docker</p>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">[root@fedora25 freeipa-container-master]#</span><span class="w"> </span>docker run <span class="nt">--name</span> freeipa-server-container <span class="nt">-ti</span> <span class="nt">-h</span> freeipa.vikki.in <span class="nt">-v</span> /sys/fs/cgroup:/sys/fs/cgroup:ro <span class="nt">--tmpfs</span> /run <span class="nt">--tmpfs</span> /tmp <span class="nt">-v</span> /var/lib/ipa-data:/data:Z freeipa-server
<span class="go">systemd 234 running in system mode. (+PAM +AUDIT +SELINUX +IMA -APPARMOR +SMACK +SYSVINIT +UTMP +LIBCRYPTSETUP +GCRYPT +GNUTLS +ACL +XZ +LZ4 +SECCOMP +BLKID +ELFUTILS +KMOD -IDN2 +IDN default-hierarchy=hybrid)
Detected virtualization docker.
Detected architecture x86-64.
</span><span class="gp">Set hostname to &lt;freeipa.vikki.in&gt;</span><span class="nb">.</span>
<span class="go">Initializing machine ID from random generator.
system.slice: Failed to set invocation ID on control group /system.slice/docker-30667326bf93d1776a13acc7f395167f87aeb44326f4785e51c851bf35a1f46f.scope/system.slice, ignoring: Operation not permitted
systemd-journald.service: Failed to set invocation ID on control group /system.slice/docker-30667326bf93d1776a13acc7f395167f87aeb44326f4785e51c851bf35a1f46f.scope/system.slice/systemd-journald.service, ignoring: Operation not permitted
systemd-tmpfiles-setup.service: Failed to set invocation ID on control group /system.slice/docker-30667326bf93d1776a13acc7f395167f87aeb44326f4785e51c851bf35a1f46f.scope/system.slice/systemd-tmpfiles-setup.service, ignoring: Operation not permitted
Sat Jan 20 07:09:58 UTC 2018 /usr/sbin/ipa-server-configure-first 

The log file for this installation can be found in /var/log/ipaserver-install.log
==============================================================================
This program will set up the FreeIPA Server.

This includes:
  * Configure a stand-alone CA (dogtag) for certificate management
  * Configure the Network Time Daemon (ntpd)
  * Create and configure an instance of Directory Server
  * Create and configure a Kerberos Key Distribution Center (KDC)
  * Configure Apache (httpd)
  * Configure the KDC to enable PKINIT

To accept the default shown in brackets, press the Enter key.

Do you want to configure integrated DNS (BIND)? [no]: 

Enter the fully qualified domain name of the computer
on which you're setting up server software. Using the form
</span><span class="gp">&lt;hostname&gt;</span>.&lt;domainname&gt;
<span class="go">Example: master.example.com.


Server host name [freeipa.vikki.in]: 

The domain name has been determined based on the host name.

Please confirm the domain name [vikki.in]: 

The kerberos protocol requires a Realm name to be defined.
This is typically the domain name converted to uppercase.

Please provide a realm name [VIKKI.IN]: 
Certain directory server operations require an administrative user.
This user is referred to as the Directory Manager and has full access
to the Directory for system management tasks and will be added to the
instance of directory server created for IPA.
The password must be at least 8 characters long.

Directory Manager password: 
Password (confirm): 

The IPA server requires an administrative user, named 'admin'.
This user is a regular system account used for IPA server administration.

IPA admin password: 
Password (confirm): 


The IPA Master Server will be configured with:
Hostname: freeipa.vikki.in
IP address(es): 172.17.0.2
Domain name: vikki.in
Realm name: VIKKI.IN

Continue to configure the system with these values? [no]: yes

The following operations may take some minutes to complete.
Please wait until the prompt is returned.

Configuring NTP daemon (ntpd)
  [1/4]: stopping ntpd
  [2/4]: writing configuration
  [3/4]: configuring ntpd to start on boot
  [4/4]: starting ntpd
Done configuring NTP daemon (ntpd).
Configuring directory server (dirsrv). Estimated time: 30 seconds
  [1/45]: creating directory server instance
  [2/45]: enabling ldapi
  [3/45]: configure autobind for root
</span><span class="c">  ....  
</span><span class="go">  [45/45]: configuring directory to start on boot
Done configuring directory server (dirsrv).
Configuring Kerberos KDC (krb5kdc)
  [1/10]: adding kerberos container to the directory
  [2/10]: configuring KDC
  [3/10]: initialize kerberos container
</span><span class="c">  ....
</span><span class="go">  [28/29]: adding 'ipa' CA entry
  [29/29]: configuring certmonger renewal for lightweight CAs
Done configuring certificate server (pki-tomcatd).
Configuring directory server (dirsrv)
  [1/3]: configuring TLS for DS instance
  [2/3]: adding CA certificate entry
  [3/3]: restarting directory server
Done configuring directory server (dirsrv).
Configuring ipa-otpd
  [1/2]: starting ipa-otpd 
  [2/2]: configuring ipa-otpd to start on boot
Done configuring ipa-otpd.
Configuring ipa-custodia
  [1/5]: Generating ipa-custodia config file
  [2/5]: Making sure custodia container exists
  [3/5]: Generating ipa-custodia keys
  [4/5]: starting ipa-custodia 
  [5/5]: configuring ipa-custodia to start on boot
Done configuring ipa-custodia.
Configuring the web interface (httpd)
  [1/22]: stopping httpd
  [2/22]: setting mod_nss port to 443
</span><span class="c">  ....
</span><span class="go">  [22/22]: enabling oddjobd
Done configuring the web interface (httpd).
Configuring Kerberos KDC (krb5kdc)
  [1/1]: installing X509 Certificate for PKINIT
Done configuring Kerberos KDC (krb5kdc).
Applying LDAP updates
Upgrading IPA:. Estimated time: 1 minute 30 seconds
  [1/9]: stopping directory server
</span><span class="c">  .....
</span><span class="go">  [9/9]: starting directory server
Done.
Restarting the KDC
ipaserver.dns_data_management: ERROR unable to resolve host name freeipa.vikki.in. to IP address, ipa-ca DNS record will be incomplete
Please add records in this file to your DNS system: /tmp/ipa.system.records.dc9aakkj.db
Configuring client side components
Using existing certificate '/etc/ipa/ca.crt'.
Client hostname: freeipa.vikki.in
Realm: VIKKI.IN
DNS Domain: vikki.in
IPA Server: freeipa.vikki.in
BaseDN: dc=vikki,dc=in

Skipping synchronizing time with NTP server.
New SSSD config will be created
Configured sudoers in /etc/nsswitch.conf
Configured /etc/sssd/sssd.conf
trying https://freeipa.vikki.in/ipa/json
[try 1]: Forwarding 'schema' to json server 'https://freeipa.vikki.in/ipa/json'
trying https://freeipa.vikki.in/ipa/session/json
[try 1]: Forwarding 'ping' to json server 'https://freeipa.vikki.in/ipa/session/json'
[try 1]: Forwarding 'ca_is_enabled' to json server 'https://freeipa.vikki.in/ipa/session/json'
Systemwide CA database updated.
SSSD enabled
Configured /etc/openldap/ldap.conf
/etc/ssh/ssh_config not found, skipping configuration
/etc/ssh/sshd_config not found, skipping configuration
Configuring vikki.in as NIS domain.
Client configuration complete.
The ipa-client-install command was successful

==============================================================================
Setup complete

Next steps:
  1. You must make sure these network ports are open:
    TCP Ports:
      * 80, 443: HTTP/HTTPS
      * 389, 636: LDAP/LDAPS
      * 88, 464: kerberos
    UDP Ports:
      * 88, 464: kerberos
      * 123: ntp

  2. You can now obtain a kerberos ticket using the command: 'kinit admin'
      This ticket will allow you to use the IPA tools (e.g., ipa user-add)
      and the web user interface.
  3. Kerberos requires time synchronization between clients
      and servers for correct operation. You should consider enabling ntpd.

Be sure to back up the CA certificates stored in /root/cacert.p12
These files are required to create replicas. The password for these
files is the Directory Manager password
FreeIPA server does not run DNS server, skipping update-self-ip-address.
Created symlink /etc/systemd/system/container-ipa.target.wants/ipa-server-update-self-ip-address.service → /usr/lib/systemd/system/ipa-server-update-self-ip-address.service.
Created symlink /etc/systemd/system/container-ipa.target.wants/ipa-server-upgrade.service → /usr/lib/systemd/system/ipa-server-upgrade.service.
Removed /etc/systemd/system/container-ipa.target.wants/ipa-server-configure-first.service.
FreeIPA server configured.</span></code></pre></figure>

<p>Now the FreeIPA docker container is ready. Verify the status of running container.</p>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">[root@fedora25 ~]#</span><span class="w"> </span>docker ps <span class="nt">-a</span>
<span class="go">    CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES
30667326bf93 freeipa-server "/usr/local/sbin/init" 45 minutes ago Up 44 minutes 53/tcp, 80/tcp, 53/udp, 88/udp, 88/tcp, 389/tcp, 443/tcp, 123/udp, 464/tcp, 636/tcp, 7389/tcp, 9443-9445/tcp, 464/udp freeipa-server-container</span></code></pre></figure>

<h4 id="how-to-enroll-the-host-to-freeipa-running-in-container">How to enroll the host to FreeIPA running in container</h4>

<p>We can also enroll the host to FreeIPA server running in container.Since i don’t have DNS configured, i manually added the FreeIPA docker container IP to the local resolver file in host machine.</p>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">[root@fedora25 ~]#</span><span class="w"> </span>docker inspect <span class="nt">--format</span> <span class="s1">'{\{.NetworkSettings.IPAddress}\}'</span> 1freeipa-server-container
<span class="go">172.17.0.2
</span><span class="gp">[root@fedora25 ~]#</span><span class="w"> </span><span class="nb">cat</span> /etc/hosts |grep freeipa
<span class="go">172.17.0.2 freeipa.vikki.in</span></code></pre></figure>

<p>Now install the ipa client in fedora host machine.</p>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">[root@fedora25 ~]#</span><span class="w"> </span>ipa-client-install 
<span class="go">WARNING: ntpd time&amp;date synchronization service will not be configured as
conflicting service (chronyd) is enabled
Use --force-ntpd option to disable it and force configuration of ntpd

DNS discovery failed to determine your DNS domain
Provide the domain name of your IPA server (ex: example.com): vikki.in
Provide your IPA server name (ex: ipa.example.com): freeipa.vikki.in
The failure to use DNS to find your IPA server indicates that your resolv.conf file is not properly configured.
Autodiscovery of servers for failover cannot work with this configuration.
If you proceed with the installation, services will be configured to always access the discovered server for all operations and will not fail over to other servers in case of failure.
Proceed with fixed values and no DNS discovery? [no]: yes
Client hostname: fedora25.vikki.in
Realm: VIKKI.IN
DNS Domain: vikki.in
IPA Server: freeipa.vikki.in
BaseDN: dc=vikki,dc=in

Continue to configure the system with these values? [no]: yes
Skipping synchronizing time with NTP server.
User authorized to enroll computers: admin
Password for admin@VIKKI.IN: 
Successfully retrieved CA cert
    Subject: CN=Certificate Authority,O=VIKKI.IN
    Issuer: CN=Certificate Authority,O=VIKKI.IN
    Valid From: 2018-01-20 07:13:00
    Valid Until: 2038-01-20 07:13:00

Enrolled in IPA realm VIKKI.IN
Created /etc/ipa/default.conf
New SSSD config will be created
Configured sudoers in /etc/nsswitch.conf
Configured /etc/sssd/sssd.conf
Configured /etc/krb5.conf for IPA realm VIKKI.IN
trying https://freeipa.vikki.in/ipa/json
[try 1]: Forwarding 'schema' to json server 'https://freeipa.vikki.in/ipa/json'
trying https://freeipa.vikki.in/ipa/session/json
[try 1]: Forwarding 'ping' to json server 'https://freeipa.vikki.in/ipa/session/json'
[try 1]: Forwarding 'ca_is_enabled' to json server 'https://freeipa.vikki.in/ipa/session/json'
Systemwide CA database updated.
Hostname (fedora25.vikki.in) does not have A/AAAA record.
Failed to update DNS records.
Missing A/AAAA record(s) for host fedora25.vikki.in: 172.17.0.1.
Missing reverse record(s) for address(es): 172.17.0.1.
Adding SSH public key from /etc/ssh/ssh_host_rsa_key.pub
Adding SSH public key from /etc/ssh/ssh_host_ecdsa_key.pub
Adding SSH public key from /etc/ssh/ssh_host_ed25519_key.pub
[try 1]: Forwarding 'host_mod' to json server 'https://freeipa.vikki.in/ipa/session/json'
Could not update DNS SSHFP records.
SSSD enabled
Configured /etc/openldap/ldap.conf
Configured /etc/ssh/ssh_config
Configured /etc/ssh/sshd_config
Configuring vikki.in as NIS domain.
Client configuration complete.
The ipa-client-install command was successful</span></code></pre></figure>

<p>Once client is installed and authenticated to the FreeIPA server, we can verify the hosts by login to GUI as shown below</p>

<!--kg-card-begin: image-->
<figure class="kg-card kg-image-card"><img src="/content/images/2018/01/Screenshot-from-2018-01-20-13-22-56.png" class="kg-image" alt="Screenshot-from-2018-01-20-13-22-56" /></figure>
<!--kg-card-end: image-->

<p>Verify the users are synced to the client.</p>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">[root@fedora25 ~]#</span><span class="w"> </span><span class="nb">id </span>vivek
<span class="go">uid=1661600001(vivek) gid=1661600001(vivek) groups=1661600001(vivek)
</span><span class="gp">[root@fedora25 ~]#</span><span class="w"> </span></code></pre></figure>


</div>


<style>
    #share-buttons {
        display: inline-block;
        vertical-align: middle;
    }

    #share-buttons:after {
        content: "";
        display: block;
        clear: both;
    }

    #share-buttons>div {
        position: relative;
        text-align: left;
        height: 36px;
        width: 32px;
        float: left;
        text-align: center;
    }

    #share-buttons>div>svg {
        height: 16px;
        fill: #d5d5d5;
        margin-top: 10px;
    }

    #share-buttons>div:hover {
        cursor: pointer;
    }

    #share-buttons>div.facebook:hover>svg {
        fill: #3B5998;
    }

    #share-buttons>div.twitter:hover>svg {
        fill: #55ACEE;
    }

    #share-buttons>div.linkedin:hover>svg {
        fill: #0077b5;
    }

    #share-buttons>div.pinterest:hover>svg {
        fill: #CB2027;
    }

    #share-buttons>div.gplus:hover>svg {
        fill: #dd4b39;
    }

    #share-buttons>div.mail:hover>svg {
        fill: #7D7D7D;
    }

    #share-buttons>div.instagram:hover>svg {
        fill: #C73B92;
    }

    #share-buttons>div.facebook>svg {
        height: 18px;
        margin-top: 9px;
    }

    #share-buttons>div.twitter>svg {
        height: 20px;
        margin-top: 8px;
    }

    #share-buttons>div.linkedin>svg {
        height: 19px;
        margin-top: 7px;
    }

    #share-buttons>div.pinterest>svg {
        height: 20px;
        margin-top: 9px;
    }

    #share-buttons>div.gplus>svg {
        height: 17px;
        margin-top: 9px;
        position: relative;
        left: 1px;
    }

    #share-buttons>div.mail>svg {
        height: 14px;
        margin-top: 11px;
    }
</style>

<span style="color: #353535;">Share on: </span>
<div id="share-buttons">
    
    <div class="facebook" title="Share this on Facebook" onclick="window.open('http://www.facebook.com/share.php?u=http://0.0.0.0:4000/freeipa_installation_configuration/');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759h-306v-759h-255v-296h255v-218q0-186 104-288.5t277-102.5q147 0 228 12z"/></svg></div>
    <!--<div class="twitter" title="Share this on Twitter" onclick="window.open('http://twitter.com/home?status=http://0.0.0.0:4000/freeipa_installation_configuration/');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5t-115.5 248.5-184.5 210.5-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5t-114-159.5q33 5 61 5 43 0 85-11-112-23-185.5-111.5t-73.5-205.5v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5t371.5 99.5q-8-38-8-74 0-134 94.5-228.5t228.5-94.5q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"/></svg></div>-->
    <div class="twitter" title="Share this on Twitter" onclick="window.open('https://twitter.com/intent/tweet?text=FreeIPA Installation and configuration&url=http://0.0.0.0:4000/freeipa_installation_configuration/');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5t-115.5 248.5-184.5 210.5-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5t-114-159.5q33 5 61 5 43 0 85-11-112-23-185.5-111.5t-73.5-205.5v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5t371.5 99.5q-8-38-8-74 0-134 94.5-228.5t228.5-94.5q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"/></svg></div>
    <div class="linkedin" title="Share this on Linkedin" onclick="window.open('https://www.linkedin.com/shareArticle?mini=true&url=http://0.0.0.0:4000/freeipa_installation_configuration/&title=&summary=&source=');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M477 625v991h-330v-991h330zm21-306q1 73-50.5 122t-135.5 49h-2q-82 0-132-49t-50-122q0-74 51.5-122.5t134.5-48.5 133 48.5 51 122.5zm1166 729v568h-329v-530q0-105-40.5-164.5t-126.5-59.5q-63 0-105.5 34.5t-63.5 85.5q-11 30-11 81v553h-329q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5 114.5-15.5q171 0 275 113.5t104 332.5z"/></svg></div>
    <!--
    
    <div class="gplus" title="Share this on Google Plus" onclick="window.open('https://plus.google.com/share?url=http://0.0.0.0:4000/freeipa_installation_configuration/');"><svg viewBox="0 0 2304 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1437 913q0 208-87 370.5t-248 254-369 91.5q-149 0-285-58t-234-156-156-234-58-285 58-285 156-234 234-156 285-58q286 0 491 192l-199 191q-117-113-292-113-123 0-227.5 62t-165.5 168.5-61 232.5 61 232.5 165.5 168.5 227.5 62q83 0 152.5-23t114.5-57.5 78.5-78.5 49-83 21.5-74h-416v-252h692q12 63 12 122zm867-122v210h-209v209h-210v-209h-209v-210h209v-209h210v209h209z"/></svg></div>
    <div class="mail" title="Share this through Email" onclick="window.open('mailto:?&body=http://0.0.0.0:4000/freeipa_installation_configuration/');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1792 710v794q0 66-47 113t-113 47h-1472q-66 0-113-47t-47-113v-794q44 49 101 87 362 246 497 345 57 42 92.5 65.5t94.5 48 110 24.5h2q51 0 110-24.5t94.5-48 92.5-65.5q170-123 498-345 57-39 100-87zm0-294q0 79-49 151t-122 123q-376 261-468 325-10 7-42.5 30.5t-54 38-52 32.5-57.5 27-50 9h-2q-23 0-50-9t-57.5-27-52-32.5-54-38-42.5-30.5q-91-64-262-182.5t-205-142.5q-62-42-117-115.5t-55-136.5q0-78 41.5-130t118.5-52h1472q65 0 112.5 47t47.5 113z"/></svg></div>
    -->
    

</div>
<!-- Begin Mailchimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
	/* #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; width:100%;} */
    #mc_embed_signup{clear:left; font:14px Helvetica,Arial,sans-serif; width:100%;}
	/* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<form action="https://vikki.us10.list-manage.com/subscribe/post?u=95b2d364576fdf5e25e704170&amp;id=905f0eae6d" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
	<label for="mce-EMAIL">Subscribe to Vikki's blog</label>
	<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_95b2d364576fdf5e25e704170_905f0eae6d" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>

<!--End mc_embed_signup-->


  <!-- Start disqus -->
<script src="/assets/js/disqusLoader.js" /></script>
<div id="disqus_thread"><h3>Discussion and feedback</h3></div>
<div class="disqus"></div>
<script>
    disqusLoader('.disqus', {
        scriptUrl: 'https://vikkiblog.disqus.com/embed.js'
    });
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<!-- End disqus -->


<div class="pagination">
  
    <a href="/car_trip_to_hogenakkal/" class="left arrow">&#8592;</a>
  
  
    <a href="/raspberry-pi-blinking-led-in-morse/" class="right arrow">&#8594;</a>
  

  <a href="#" class="top">Top</a>
</div>
    </main>

    <!--<footer >
  <span>
        &copy; <time datetime="2025-07-31 10:44:18 +0000">2025</time> . Made with Jekyll using the <a href="https://github.com/chesterhow/tale/">Tale</a> theme.
  </span>
</footer>-->

<footer class="footer">
    <div class="footer--section">
        <!--
      
      <a href=https://twitter.com/vikkiintweet> <svg viewBox="0 0 64 64" class="footer--icon">
           <path data-name="layer1"
  d="M64 13.194a23.1 23.1 0 0 1-7.3 2.1 14.119 14.119 0 0 0 5.5-7.2c-1.9 1.2-6.1 2.9-8.2 2.9a13.782 13.782 0 0 0-9.6-4 13.187 13.187 0 0 0-13.2 13.2 13.576 13.576 0 0 0 .3 2.9c-9.9-.3-21.5-5.2-28-13.7a13.206 13.206 0 0 0 4 17.4c-1.5.2-4.4-.1-5.7-1.4-.1 4.6 2.1 10.7 10.2 12.9-1.6.8-4.3.6-5.5.4.4 3.9 5.9 9 11.8 9-2.1 2.4-9.3 6.9-18.3 5.5a39.825 39.825 0 0 0 20.7 5.8 36.8 36.8 0 0 0 37-38.6v-.5a22.861 22.861 0 0 0 6.3-6.7z"
  fill="#4f80ff"></path>
          </svg>
      </a>
  </div>
  <div class="footer--section">
      
      <a href=https://github.com/vigneshragupathy> <svg class="footer--icon" viewBox="0 0 64 64"
          xmlns="http://www.w3.org/2000/svg">
          <path data-name="layer2"
  d="M32 0a32.021 32.021 0 0 0-10.1 62.4c1.6.3 2.2-.7 2.2-1.5v-6c-8.9 1.9-10.8-3.8-10.8-3.8-1.5-3.7-3.6-4.7-3.6-4.7-2.9-2 .2-1.9.2-1.9 3.2.2 4.9 3.3 4.9 3.3 2.9 4.9 7.5 3.5 9.3 2.7a6.93 6.93 0 0 1 2-4.3c-7.1-.8-14.6-3.6-14.6-15.8a12.27 12.27 0 0 1 3.3-8.6 11.965 11.965 0 0 1 .3-8.5s2.7-.9 8.8 3.3a30.873 30.873 0 0 1 8-1.1 30.292 30.292 0 0 1 8 1.1c6.1-4.1 8.8-3.3 8.8-3.3a11.965 11.965 0 0 1 .3 8.5 12.1 12.1 0 0 1 3.3 8.6c0 12.3-7.5 15-14.6 15.8a7.746 7.746 0 0 1 2.2 5.9v8.8c0 .9.6 1.8 2.2 1.5A32.021 32.021 0 0 0 32 0z"
  fill="#2d2d2d"></path>
  <path data-name="layer1" d="M12.1 45.9c-.1.2-.3.2-.5.1s-.4-.3-.3-.5.3-.2.6-.1c.2.2.3.4.2.5zm1.3 1.5a.589.589 0 0 1-.8-.8.631.631 0 0 1 .7.1.494.494 0 0 1 .1.7zm1.3 1.8a.585.585 0 0 1-.7-.3.6.6 0 0 1 0-.8.585.585 0 0 1 .7.3c.2.3.2.7 0 .8zm1.7 1.8c-.2.2-.5.1-.8-.1-.3-.3-.4-.6-.2-.8a.619.619 0 0 1 .8.1.554.554 0 0 1 .2.8zm2.4 1c-.1.3-.4.4-.8.3s-.6-.4-.5-.7.4-.4.8-.3c.3.2.6.5.5.7zm2.6.2c0 .3-.3.5-.7.5s-.7-.2-.7-.5.3-.5.7-.5c.4.1.7.3.7.5zm2.4-.4q0 .45-.6.6a.691.691 0 0 1-.8-.3q0-.45.6-.6c.5-.1.8.1.8.3z"></path>
          </svg>
      </a>
  </div>
  <div class="footer--section">
      
      <a href=https://www.youtube.com/c/vigneshragupathy> <svg class="footer--icon"
          viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
          <path data-name="layer1"
  d="M50.708 9H13.292A13.25 13.25 0 0 0 0 22.207v18.586A13.25 13.25 0 0 0 13.292 54h37.416A13.25 13.25 0 0 0 64 40.793V22.207A13.25 13.25 0 0 0 50.708 9zm-8.989 23.4l-17.501 8.3a.7.7 0 0 1-1.005-.63V22.962a.7.7 0 0 1 1.02-.623l17.5 8.812a.7.7 0 0 1-.015 1.253zm0 0"
  fill="#f61c0d"></path>
          </svg>
      </a>
  </div>

  <div class="footer--section">
    
    <a href=https://www.linkedin.com/in/vigneshragupathy> <svg class="footer--icon"
        viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
        <path data-name="layer1"
  fill="#0077b7" d="M1.15 21.7h13V61h-13zm46.55-1.3c-5.7 0-9.1 2.1-12.7 6.7v-5.4H22V61h13.1V39.7c0-4.5 2.3-8.9 7.5-8.9s8.3 4.4 8.3 8.8V61H64V38.7c0-15.5-10.5-18.3-16.3-18.3zM7.7 2.6C3.4 2.6 0 5.7 0 9.5s3.4 6.9 7.7 6.9 7.7-3.1 7.7-6.9S12 2.6 7.7 2.6z"></path>
        </svg>
          </a>
</div>
  <div class="footer--section">
      
      <a href="http://0.0.0.0:4000/feed.xml">
          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
              y="0px" viewBox="0 0 64 64" class="footer--icon" xml:space="preserve">
              <path data-name="layer1"
  d="M8.6 46.746a8.627 8.627 0 1 0 8.6 8.627 8.678 8.678 0 0 0-8.6-8.627zM.7 21.567H.2V33.5h.5a29.836 29.836 0 0 1 29.8 29.8v.7h11.9v-.7A41.719 41.719 0 0 0 .7 21.567z"
  fill="#ff8900"></path>
  <path data-name="layer1" d="M.7 0H.2v11.937h.5A51.4 51.4 0 0 1 52 63.3v.7h12v-.7A63.369 63.369 0 0 0 .7 0z"
  fill="#ff8900"></path>
          </svg>
      </a>
      -->
        
        <a href=https://twitter.com/vikkiintweet> <svg viewBox="0 0 64 64" class="footer--icon">
            <path data-name="layer1"
                d="M64 13.194a23.1 23.1 0 0 1-7.3 2.1 14.119 14.119 0 0 0 5.5-7.2c-1.9 1.2-6.1 2.9-8.2 2.9a13.782 13.782 0 0 0-9.6-4 13.187 13.187 0 0 0-13.2 13.2 13.576 13.576 0 0 0 .3 2.9c-9.9-.3-21.5-5.2-28-13.7a13.206 13.206 0 0 0 4 17.4c-1.5.2-4.4-.1-5.7-1.4-.1 4.6 2.1 10.7 10.2 12.9-1.6.8-4.3.6-5.5.4.4 3.9 5.9 9 11.8 9-2.1 2.4-9.3 6.9-18.3 5.5a39.825 39.825 0 0 0 20.7 5.8 36.8 36.8 0 0 0 37-38.6v-.5a22.861 22.861 0 0 0 6.3-6.7z"
                fill="#202020"></path>
            </svg>
        </a>
    </div>
    <div class="footer--section">
        
        <a href=https://github.com/vigneshragupathy> <svg class="footer--icon" viewBox="0 0 64 64"
            xmlns="http://www.w3.org/2000/svg">
            <path data-name="layer2"
                d="M32 0a32.021 32.021 0 0 0-10.1 62.4c1.6.3 2.2-.7 2.2-1.5v-6c-8.9 1.9-10.8-3.8-10.8-3.8-1.5-3.7-3.6-4.7-3.6-4.7-2.9-2 .2-1.9.2-1.9 3.2.2 4.9 3.3 4.9 3.3 2.9 4.9 7.5 3.5 9.3 2.7a6.93 6.93 0 0 1 2-4.3c-7.1-.8-14.6-3.6-14.6-15.8a12.27 12.27 0 0 1 3.3-8.6 11.965 11.965 0 0 1 .3-8.5s2.7-.9 8.8 3.3a30.873 30.873 0 0 1 8-1.1 30.292 30.292 0 0 1 8 1.1c6.1-4.1 8.8-3.3 8.8-3.3a11.965 11.965 0 0 1 .3 8.5 12.1 12.1 0 0 1 3.3 8.6c0 12.3-7.5 15-14.6 15.8a7.746 7.746 0 0 1 2.2 5.9v8.8c0 .9.6 1.8 2.2 1.5A32.021 32.021 0 0 0 32 0z"
                fill="#202020"></path>
            <path data-name="layer1"
                d="M12.1 45.9c-.1.2-.3.2-.5.1s-.4-.3-.3-.5.3-.2.6-.1c.2.2.3.4.2.5zm1.3 1.5a.589.589 0 0 1-.8-.8.631.631 0 0 1 .7.1.494.494 0 0 1 .1.7zm1.3 1.8a.585.585 0 0 1-.7-.3.6.6 0 0 1 0-.8.585.585 0 0 1 .7.3c.2.3.2.7 0 .8zm1.7 1.8c-.2.2-.5.1-.8-.1-.3-.3-.4-.6-.2-.8a.619.619 0 0 1 .8.1.554.554 0 0 1 .2.8zm2.4 1c-.1.3-.4.4-.8.3s-.6-.4-.5-.7.4-.4.8-.3c.3.2.6.5.5.7zm2.6.2c0 .3-.3.5-.7.5s-.7-.2-.7-.5.3-.5.7-.5c.4.1.7.3.7.5zm2.4-.4q0 .45-.6.6a.691.691 0 0 1-.8-.3q0-.45.6-.6c.5-.1.8.1.8.3z">
            </path>
            </svg>
        </a>
    </div>
    <div class="footer--section">
        
        <a href=https://www.youtube.com/c/vigneshragupathy> <svg class="footer--icon" viewBox="0 0 64 64"
            xmlns="http://www.w3.org/2000/svg">
            <path data-name="layer1"
                d="M50.708 9H13.292A13.25 13.25 0 0 0 0 22.207v18.586A13.25 13.25 0 0 0 13.292 54h37.416A13.25 13.25 0 0 0 64 40.793V22.207A13.25 13.25 0 0 0 50.708 9zm-8.989 23.4l-17.501 8.3a.7.7 0 0 1-1.005-.63V22.962a.7.7 0 0 1 1.02-.623l17.5 8.812a.7.7 0 0 1-.015 1.253zm0 0"
                fill="#202020"></path>
            </svg>
        </a>
    </div>

    <div class="footer--section">
        
        <a href=https://www.linkedin.com/in/vigneshragupathy> <svg class="footer--icon" viewBox="0 0 64 64"
            xmlns="http://www.w3.org/2000/svg">
            <path data-name="layer1" fill="#202020"
                d="M1.15 21.7h13V61h-13zm46.55-1.3c-5.7 0-9.1 2.1-12.7 6.7v-5.4H22V61h13.1V39.7c0-4.5 2.3-8.9 7.5-8.9s8.3 4.4 8.3 8.8V61H64V38.7c0-15.5-10.5-18.3-16.3-18.3zM7.7 2.6C3.4 2.6 0 5.7 0 9.5s3.4 6.9 7.7 6.9 7.7-3.1 7.7-6.9S12 2.6 7.7 2.6z">
            </path>
            </svg>
        </a>
    </div>
    <div class="footer--section">
        
        <a href="http://0.0.0.0:4000/feed.xml">
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
                y="0px" viewBox="0 0 64 64" class="footer--icon" xml:space="preserve">
                <path data-name="layer1"
                    d="M8.6 46.746a8.627 8.627 0 1 0 8.6 8.627 8.678 8.678 0 0 0-8.6-8.627zM.7 21.567H.2V33.5h.5a29.836 29.836 0 0 1 29.8 29.8v.7h11.9v-.7A41.719 41.719 0 0 0 .7 21.567z"
                    fill="#202020"></path>
                <path data-name="layer1"
                    d="M.7 0H.2v11.937h.5A51.4 51.4 0 0 1 52 63.3v.7h12v-.7A63.369 63.369 0 0 0 .7 0z" fill="#202020">
                </path>
            </svg>
        </a>
    </div>
</footer>
  </body>
</html>
